"use strict";(self.webpackChunkjavascript=self.webpackChunkjavascript||[]).push([[732],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),c=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(o.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=c(n),d=r,h=m["".concat(o,".").concat(d)]||m[d]||p[d]||i;return n?a.createElement(h,l(l({ref:t},u),{},{components:n})):a.createElement(h,l({ref:t},u))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[m]="string"==typeof e?e:r,l[1]=s;for(var c=2;c<i;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2145:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:18},l="Async/await",s={unversionedId:"async-await",id:"async-await",title:"Async/await",description:"Gi\u1edbi thi\u1ec7u",source:"@site/docs/async-await.md",sourceDirName:".",slug:"/async-await",permalink:"/javascript/async-await",draft:!1,tags:[],version:"current",sidebarPosition:18,frontMatter:{sidebar_position:18},sidebar:"tutorialSidebar",previous:{title:"Promise.all()",permalink:"/javascript/promise/promise-all"},next:{title:"Destructuring Assignment",permalink:"/javascript/category/destructuring-assignment"}},o={},c=[{value:"Gi\u1edbi thi\u1ec7u",id:"gi\u1edbi-thi\u1ec7u",level:2},{value:"async",id:"async",level:4},{value:"await",id:"await",level:4},{value:"M\u1ed9t s\u1ed1 v\xed d\u1ee5 v\u1ec1 s\u1eed d\u1ee5ng async/await",id:"m\u1ed9t-s\u1ed1-v\xed-d\u1ee5-v\u1ec1-s\u1eed-d\u1ee5ng-asyncawait",level:2}],u={toc:c},m="wrapper";function p(e){let{components:t,...i}=e;return(0,r.kt)(m,(0,a.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"asyncawait"},"Async/await"),(0,r.kt)("h2",{id:"gi\u1edbi-thi\u1ec7u"},"Gi\u1edbi thi\u1ec7u"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Trong JavaScript, ",(0,r.kt)("inlineCode",{parentName:"li"},"async")," v\xe0 ",(0,r.kt)("inlineCode",{parentName:"li"},"await")," l\xe0 hai t\u1eeb kh\xf3a \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 l\xe0m vi\u1ec7c v\u1edbi c\xe1c h\xe0m b\u1ea5t \u0111\u1ed3ng b\u1ed9 (asynchronous functions). C\u1ee5 th\u1ec3:")),(0,r.kt)("h4",{id:"async"},"async"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"T\u1eeb kh\xf3a ",(0,r.kt)("inlineCode",{parentName:"li"},"async")," \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 khai b\xe1o m\u1ed9t h\xe0m b\u1ea5t \u0111\u1ed3ng b\u1ed9."),(0,r.kt)("li",{parentName:"ul"},"Khi m\u1ed9t h\xe0m \u0111\u01b0\u1ee3c khai b\xe1o v\u1edbi t\u1eeb kh\xf3a ",(0,r.kt)("inlineCode",{parentName:"li"},"async"),", n\xf3 s\u1ebd lu\xf4n tr\u1ea3 v\u1ec1 m\u1ed9t Promise."),(0,r.kt)("li",{parentName:"ul"},"N\u1ebfu trong h\xe0m async c\xf3 m\u1ed9t c\xe2u l\u1ec7nh ",(0,r.kt)("inlineCode",{parentName:"li"},"return"),", gi\xe1 tr\u1ecb \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 t\u1eeb h\xe0m \u0111\xf3 s\u1ebd tr\u1edf th\xe0nh gi\xe1 tr\u1ecb \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft c\u1ee7a Promise."),(0,r.kt)("li",{parentName:"ul"},"H\xe0m n\xe0y c\xf3 th\u1ec3 ch\u1ee9a t\u1eeb kh\xf3a ",(0,r.kt)("inlineCode",{parentName:"li"},"await"),", gi\xfap JavaScript \u0111\u1ee3i cho \u0111\u1ebfn khi m\u1ed9t Promise \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft (resolved).")),(0,r.kt)("h4",{id:"await"},"await"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"T\u1eeb kh\xf3a ",(0,r.kt)("inlineCode",{parentName:"li"},"await")," ch\u1ec9 c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng b\xean trong m\u1ed9t h\xe0m \u0111\u01b0\u1ee3c khai b\xe1o v\u1edbi t\u1eeb kh\xf3a ",(0,r.kt)("inlineCode",{parentName:"li"},"async"),"."),(0,r.kt)("li",{parentName:"ul"},"Khi s\u1eed d\u1ee5ng ",(0,r.kt)("inlineCode",{parentName:"li"},"await")," trong m\u1ed9t h\xe0m ",(0,r.kt)("inlineCode",{parentName:"li"},"async"),", JavaScript s\u1ebd t\u1ea1m d\u1eebng vi\u1ec7c th\u1ef1c thi c\u1ee7a h\xe0m cho \u0111\u1ebfn khi Promise \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft. N\xf3 gi\xfap code b\u1ea5t \u0111\u1ed3ng b\u1ed9 tr\u1edf n\xean d\u1ec5 \u0111\u1ecdc h\u01a1n, v\xec n\xf3 cho ph\xe9p vi\u1ebft m\xe3 theo ki\u1ec3u tu\u1ea7n t\u1ef1, thay v\xec s\u1eed d\u1ee5ng callback ho\u1eb7c Promise chaining."),(0,r.kt)("li",{parentName:"ul"},"Sau ",(0,r.kt)("inlineCode",{parentName:"li"},"await")," ph\u1ea3i l\xe0 m\u1ed9t Promise ho\u1eb7c m\u1ed9t function return Promise."),(0,r.kt)("li",{parentName:"ul"},"Ta d\xf9ng try/catch \u0111\u1ec3 x\u1eed l\xfd l\u1ed7i n\u1ebfu Promise \u1edf ",(0,r.kt)("inlineCode",{parentName:"li"},"await")," reject error.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"1711892979992",src:n(6106).Z,width:"1242",height:"474"})),(0,r.kt)("h2",{id:"m\u1ed9t-s\u1ed1-v\xed-d\u1ee5-v\u1ec1-s\u1eed-d\u1ee5ng-asyncawait"},"M\u1ed9t s\u1ed1 v\xed d\u1ee5 v\u1ec1 s\u1eed d\u1ee5ng async/await"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"V\xed d\u1ee5 c\u01a1 b\u1ea3n v\u1ec1 ",(0,r.kt)("inlineCode",{parentName:"li"},"async/await:"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const executeAsync = async () => {\n  const data = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve("Hello World");\n    }, 3000);\n  });\n  const result = await data; // "await data" will return the value that we passed to resolve\n  console.log(result);\n};\nexecuteAsync();\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"S\u1eed d\u1ee5ng ",(0,r.kt)("inlineCode",{parentName:"li"},"async/await")," \u0111\u1ec3 in c\xe1c s\u1ed1 t\u1eeb 1 -> 10, m\u1ed7i l\u1ea7n in c\xe1ch nhau 1s:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const delay = (ms) =>\n  new Promise((resolve) => {\n    setTimeout(() => {\n      resolve("");\n    }, ms);\n  });\n\nconst play = async () => {\n  for (let i = 1; i <= 10; i++) {\n    await delay(1000);\n    console.log(i);\n  }\n};\n\nplay();\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"S\u1eed d\u1ee5ng ",(0,r.kt)("inlineCode",{parentName:"li"},"async/await")," k\u1ebft h\u1ee3p v\u1edbi ",(0,r.kt)("inlineCode",{parentName:"li"},"Promise.all()")," \u0111\u1ec3 l\u1ea5y d\u1eef li\u1ec7u nhi\u1ec1u ng\u01b0\u1eddi d\xf9ng tr\xean github:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const fetchGithubInfo = async (url) => {\n  const response = await fetch(url);\n  const githubInfo = await response.json();\n  return {\n    id: githubInfo.id,\n    name: githubInfo.name,\n    email: githubInfo.email,\n  };\n};\n\nconst fetchUsersInfo = (userNameList) => {\n  const requests = userNameList.map((userName) => {\n    const url = `https://api.github.com/users/${userName}`;\n    return fetchGithubInfo(url);\n  });\n  return Promise.all(requests);\n};\n\nfetchUsersInfo(["minhchi1509", "leephan2k1", "thanhyou00"]).then((data) => {\n  console.log(data);\n});\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"S\u1eed d\u1ee5ng ",(0,r.kt)("inlineCode",{parentName:"li"},"try/catch")," \u0111\u1ec3 x\u1eed l\xfd l\u1ed7i trong ",(0,r.kt)("inlineCode",{parentName:"li"},"async/await"),":")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const promiseCreator = (ms, value) => {\n  return new Promise((resolve, reject) => {\n    let ok = false;\n    setTimeout(() => {\n      if (ok) resolve(value);\n      else reject("DATA NOT FOUND");\n    }, ms);\n  });\n};\nconst executeAsync = async () => {\n  let data = [];\n  for (let i = 1; i <= 10; i++) {\n    try {\n      const result = await promiseCreator(1000, i);\n      data.push(result);\n    } catch (error) {\n      return error;\n    }\n  }\n  return data;\n};\nexecuteAsync().then((data) => console.log(data));\n// Output: DATA NOT FOUND\n')))}p.isMDXComponent=!0},6106:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1711892979992-d5ff83cb70d0eeb7a806e0c5c9b7fbf7.png"}}]);