"use strict";(self.webpackChunkreactjs=self.webpackChunkreactjs||[]).push([[4883],{5276:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>a,frontMatter:()=>r,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"fs","title":"fs","description":"Gi\u1edbi thi\u1ec7u v\u1ec1 fs","source":"@site/docs/fs.md","sourceDirName":".","slug":"/fs","permalink":"/javascript/fs","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":21,"frontMatter":{"sidebar_position":21},"sidebar":"tutorialSidebar","previous":{"title":"Re-exporting / Aggregating","permalink":"/javascript/modules/re-exporting"}}');var l=i(4848),c=i(8453);const r={sidebar_position:21},t="fs",d={},h=[{value:"Gi\u1edbi thi\u1ec7u v\u1ec1 <code>fs</code>",id:"gi\u1edbi-thi\u1ec7u-v\u1ec1-fs",level:2},{value:"\u0110\u1ecdc file",id:"\u0111\u1ecdc-file",level:2},{value:"Ghi file",id:"ghi-file",level:2},{value:"Copy file",id:"copy-file",level:2},{value:"Ch\xe8n n\u1ed9i dung v\xe0o file",id:"ch\xe8n-n\u1ed9i-dung-v\xe0o-file",level:2},{value:"T\u1ea1o th\u01b0 m\u1ee5c",id:"t\u1ea1o-th\u01b0-m\u1ee5c",level:2},{value:"X\xf3a file, th\u01b0 m\u1ee5c",id:"x\xf3a-file-th\u01b0-m\u1ee5c",level:2},{value:"\u0110\u1ed5i t\xean file, th\u01b0 m\u1ee5c",id:"\u0111\u1ed5i-t\xean-file-th\u01b0-m\u1ee5c",level:2},{value:"\u0110\u1ecdc file, folder b\xean trong th\u01b0 m\u1ee5c",id:"\u0111\u1ecdc-file-folder-b\xean-trong-th\u01b0-m\u1ee5c",level:2},{value:"\u0110\u1ecdc ghi file s\u1eed d\u1ee5ng stream trong fs",id:"\u0111\u1ecdc-ghi-file-s\u1eed-d\u1ee5ng-stream-trong-fs",level:2},{value:"<code>fs.createWriteStream</code>",id:"fscreatewritestream",level:4},{value:"<code>fs.createReadStream</code>",id:"fscreatereadstream",level:4},{value:"K\u1ebft h\u1ee3p <code>createReadStream</code> v\xe0 <code>createWriteStream</code>",id:"k\u1ebft-h\u1ee3p-createreadstream-v\xe0-createwritestream",level:4}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"fs",children:"fs"})}),"\n",(0,l.jsxs)(n.h2,{id:"gi\u1edbi-thi\u1ec7u-v\u1ec1-fs",children:["Gi\u1edbi thi\u1ec7u v\u1ec1 ",(0,l.jsx)(n.code,{children:"fs"})]}),"\n",(0,l.jsx)(n.admonition,{type:"info",children:(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Trong Node.js, ",(0,l.jsx)(n.code,{children:"fs"}),' l\xe0 vi\u1ebft t\u1eaft c\u1ee7a "File System" (H\u1ec7 th\u1ed1ng T\u1eadp tin). \u0110\xe2y l\xe0 m\u1ed9t module t\xedch h\u1ee3p s\u1eb5n cung c\u1ea5p c\xe1c API \u0111\u1ec3 l\xe0m vi\u1ec7c v\u1edbi h\u1ec7 th\u1ed1ng t\u1eadp tin. Ta c\xf3 th\u1ec3 s\u1eed d\u1ee5ng ',(0,l.jsx)(n.code,{children:"fs"})," \u0111\u1ec3 th\u1ef1c hi\u1ec7n c\xe1c thao t\xe1c nh\u01b0 \u0111\u1ecdc v\xe0 ghi t\u1eadp tin, t\u1ea1o v\xe0 x\xf3a th\u01b0 m\u1ee5c, v\xe0 nhi\u1ec1u thao t\xe1c kh\xe1c li\xean quan \u0111\u1ebfn h\u1ec7 th\u1ed1ng t\u1eadp tin."]}),"\n"]})}),"\n",(0,l.jsx)(n.h2,{id:"\u0111\u1ecdc-file",children:"\u0110\u1ecdc file"}),"\n",(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"C\xfa ph\xe1p:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const fileBuffer: Buffer = fs.readFileSync(path: string, encoding?: BufferEncoding);\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Trong \u0111\xf3:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"path"}),": \u0111\u01b0\u1eddng d\u1eabn c\u1ee7a file"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"encoding"})," (t\xf9y ch\u1ecdn): Ki\u1ec3u m\xe3 h\xf3a c\u1ee7a file. Xem c\xe1c gi\xe1 tr\u1ecb c\xf3 th\u1ec3 nh\u1eadn c\u1ee7a BufferEncoding ",(0,l.jsx)(n.a,{href:"./built-in-object/binary-handle/buffer#c%C3%A1c-gi%C3%A1-tr%E1%BB%8B-c%C3%B3-th%E1%BB%83-nh%E1%BA%ADn-c%E1%BB%A7a-bufferencoding",children:"t\u1ea1i \u0111\xe2y"}),"."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,l.jsx)(n.admonition,{type:"note",children:(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Khi tham s\u1ed1 ",(0,l.jsx)(n.strong,{children:"encoding"})," \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh th\xec ",(0,l.jsx)(n.code,{children:"fs.readFileSync()"})," s\u1ebd tr\u1ea3 v\u1ec1 m\u1ed9t string thay v\xec tr\u1ea3 v\u1ec1 m\u1ed9t Buffer"]}),"\n"]})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["V\xed d\u1ee5 khi kh\xf4ng ch\u1ec9 \u0111\u1ecbnh tham s\u1ed1 ",(0,l.jsx)(n.strong,{children:"encoding"}),":"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nconst file = fs.readFileSync("files/example.txt");\nconsole.log(file); // Buffer(35) [ 88, 105, 110, 13, 10, 99, 104, 195, 160, 111, 13, 10, 116, 225, 186, 165, 116, 32, 99, 225, 186, 163, 13, 10, 99, 195, 161, 99, 13, 10, 98, 225, 186, 161, 110 ]\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["V\xed d\u1ee5 khi ch\u1ec9 \u0111\u1ecbnh tham s\u1ed1 ",(0,l.jsx)(n.strong,{children:"encoding"}),":"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nconst fileUtf8 = fs.readFileSync("files/example.txt", "utf-8");\nconst fileBase64 = fs.readFileSync("files/example.txt", "base64");\nconsole.log(fileUtf8); // "Xin ch\xe0o t\u1ea5t c\u1ea3 c\xe1c b\u1ea1n"\nconsole.log(fileBase64); // "WGluIGNow6BvIHThuqV0IGPhuqMgY8OhYyBi4bqhbg=="\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"V\xed d\u1ee5 v\u1ec1 \u0111\u1ecdc file h\xecnh \u1ea3nh, mp3, mp4, pdf,...:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nconst imageFileBase64 = fs.readFileSync("files/example.jpg", "base64"); // \u0110\u1ecdc file \u1ea3nh v\xe0 tr\u1ea3 v\u1ec1 chu\u1ed7i base64\n'})}),"\n",(0,l.jsxs)(n.admonition,{type:"tip",children:[(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"2 c\xe1ch vi\u1ebft sau t\u01b0\u01a1ng \u0111\u01b0\u01a1ng nhau:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nconst fileBuffer = fs.readFileSync("files/example.txt");\nconst fileUtf8 = fileBuffer.toString("utf-8");\n'})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nconst fileUtf8 = fs.readFileSync("files/example.txt", "utf8");\n'})})]}),"\n",(0,l.jsx)(n.h2,{id:"ghi-file",children:"Ghi file"}),"\n",(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"C\xfa ph\xe1p:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nfs.writeFileSync(filePath: string, data: string | Buffer, encoding?: BufferEncoding): void;\n'})})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"V\xed d\u1ee5 v\u1ec1 ghi file text (txt):"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nconst fileContent = Buffer.from("Xin ch\xe0o t\u1ea5t c\u1ea3 c\xe1c b\u1ea1n");\n\nfs.writeFileSync("files/example.txt", "Hello world"); // Ghi file v\u1edbi n\u1ed9i dung l\xe0 m\u1ed9t string\nfs.writeFileSync("files/example.txt", fileContent); // Ghi file v\u1edbi n\u1ed9i dung l\xe0 m\u1ed9t Buffer\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"V\xed d\u1ee5 v\u1ec1 \u0111\u1ecdc 1 \u1ea3nh sau \u0111\xf3 ghi l\u1ea1i \u1ea3nh \u0111\xf3 (clone \u1ea3nh):"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nconst imageFileBuffer = fs.readFileSync("files/example.jpg");\n\nfs.writeFileSync("files/example-clone.jpg", imageFileBuffer); // Ghi l\u1ea1i file \u1ea3nh\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nconst imageFileBase64 = fs.readFileSync("files/example.jpg", "base64");\nfs.writeFileSync("files/example-clone.jpg", imageFileBase64, "base64"); // Ghi l\u1ea1i file \u1ea3nh\n'})}),"\n",(0,l.jsx)(n.admonition,{type:"caution",children:(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Khi \u0111\u1ecdc file m\xe0 ch\u1ec9 \u0111\u1ecbnh ",(0,l.jsx)(n.strong,{children:"encoding"})," th\xec l\xfac ghi file b\u1eaft bu\u1ed9c ph\u1ea3i ch\u1ec9 \u0111\u1ecbnh l\u1ea1i ",(0,l.jsx)(n.strong,{children:"encoding"})," \u0111\xf3."]}),"\n"]})}),"\n",(0,l.jsx)(n.h2,{id:"copy-file",children:"Copy file"}),"\n",(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"C\xfa ph\xe1p:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"fs.copyFileSync(src: string, dest: string): void\n"})})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"V\xed d\u1ee5:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nfs.copyFileSync("files/example.jpg", "files/example-clone.jpg"); // Copy file \u1ea3nh\n'})}),"\n",(0,l.jsx)(n.h2,{id:"ch\xe8n-n\u1ed9i-dung-v\xe0o-file",children:"Ch\xe8n n\u1ed9i dung v\xe0o file"}),"\n",(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"C\xfa ph\xe1p:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"fs.appendFileSync(path: string, data: string | Buffer, encoding?: BufferEncoding): void\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Ph\u01b0\u01a1ng th\u1ee9c ",(0,l.jsx)(n.code,{children:"fs.appendFileSync()"})," trong Node.js \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 th\xeam d\u1eef li\u1ec7u v\xe0o cu\u1ed1i m\u1ed9t file. N\u1ebfu file kh\xf4ng t\u1ed3n t\u1ea1i, ph\u01b0\u01a1ng th\u1ee9c n\xe0y s\u1ebd t\u1ea1o file m\u1edbi."]}),"\n"]})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"V\xed d\u1ee5:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nfs.appendFileSync("files/example.txt", "Xin ch\xe0o c\xe1c b\u1ea1n"); // Ghi th\xeam v\xe0o file text\n'})}),"\n",(0,l.jsx)(n.h2,{id:"t\u1ea1o-th\u01b0-m\u1ee5c",children:"T\u1ea1o th\u01b0 m\u1ee5c"}),"\n",(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"C\xfa ph\xe1p:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"fs.mkdirSync(path: string, { recursive?: boolean }): string | undefined;\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Ph\u01b0\u01a1ng th\u1ee9c ",(0,l.jsx)(n.code,{children:"fs.mkdirSync()"})," trong Node.js \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 t\u1ea1o m\u1ed9t th\u01b0 m\u1ee5c m\u1edbi. ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"recursive"})})," (boolean): N\u1ebfu \u0111\u01b0\u1ee3c \u0111\u1eb7t l\xe0 ",(0,l.jsx)(n.code,{children:"true"}),", t\u1ea5t c\u1ea3 c\xe1c th\u01b0 m\u1ee5c con trong \u0111\u01b0\u1eddng d\u1eabn s\u1ebd \u0111\u01b0\u1ee3c t\u1ea1o n\u1ebfu ch\xfang ch\u01b0a t\u1ed3n t\u1ea1i."]}),"\n"]})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"V\xed d\u1ee5:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nfs.mkdirSync("assets/images", { recursive: true });\n'})}),"\n",(0,l.jsx)(n.h2,{id:"x\xf3a-file-th\u01b0-m\u1ee5c",children:"X\xf3a file, th\u01b0 m\u1ee5c"}),"\n",(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"C\xfa ph\xe1p x\xf3a file + th\u01b0 m\u1ee5c:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"fs.rmSync(path: string, { recursive?: boolean, force?: boolean });\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Trong \u0111\xf3:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"recursive"})})," (boolean): N\u1ebfu \u0111\u01b0\u1ee3c \u0111\u1eb7t l\xe0 ",(0,l.jsx)(n.code,{children:"true"}),", s\u1ebd x\xf3a c\u1ea3 th\u01b0 m\u1ee5c v\xe0 t\u1ea5t c\u1ea3 n\u1ed9i dung b\xean trong n\xf3. N\u1ebfu b\u1ea1n kh\xf4ng ch\u1ec9 \u0111\u1ecbnh ",(0,l.jsx)(n.code,{children:"recursive: true"}),", th\u01b0 m\u1ee5c s\u1ebd kh\xf4ng b\u1ecb x\xf3a n\u1ebfu n\xf3 kh\xf4ng r\u1ed7ng."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"force"})})," (boolean): N\u1ebfu \u0111\u01b0\u1ee3c \u0111\u1eb7t l\xe0 ",(0,l.jsx)(n.code,{children:"true"}),", s\u1ebd b\u1ecf qua c\xe1c l\u1ed7i kh\xf4ng cho ph\xe9p v\xe0 c\u1ed1 g\u1eafng x\xf3a \u0111\u1ed1i t\u01b0\u1ee3ng \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh. T\xf9y ch\u1ecdn n\xe0y b\u1ecf qua m\u1ecdi l\u1ed7i li\xean quan \u0111\u1ebfn quy\u1ec1n truy c\u1eadp ho\u1eb7c t\u1ec7p tin kh\xf4ng t\u1ed3n t\u1ea1i, gi\xfap \u0111\u1ea3m b\u1ea3o r\u1eb1ng th\u01b0 m\u1ee5c ho\u1eb7c t\u1ec7p tin s\u1ebd b\u1ecb x\xf3a m\xe0 kh\xf4ng b\u1ecb ng\u0103n c\u1ea3n b\u1edfi c\xe1c l\u1ed7i th\xf4ng th\u01b0\u1eddng."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"C\xfa ph\xe1p x\xf3a file:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"fs.unlinkSync(path: string)\n"})})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"V\xed d\u1ee5:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nfs.rmSync("assets/images", { recursive: true }); // X\xf3a th\u01b0 m\u1ee5c "images" v\xe0 t\u1ea5t c\u1ea3 c\xe1c file/folder b\xean trong\nfs.rmSync("assets", { recursive: true }); // X\xf3a th\u01b0 m\u1ee5c "assets" v\xe0 t\u1ea5t c\u1ea3 c\xe1c file/folder b\xean trong\nfs.rmSync("assets/images/example.jpg"); // X\xf3a file example.jpg\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u0111\u1ed5i-t\xean-file-th\u01b0-m\u1ee5c",children:"\u0110\u1ed5i t\xean file, th\u01b0 m\u1ee5c"}),"\n",(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"C\xfa ph\xe1p:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"fs.renameSync(oldPath: string, newPath: string): void\n"})})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"V\xed d\u1ee5:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nfs.renameSync("assets/images", "assets/img"); // \u0110\u1ed5i t\xean th\u01b0 m\u1ee5c\nfs.renameSync("assets/example.pdf", "assets/my-cv.pdf"); // \u0110\u1ed5i t\xean file\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u0111\u1ecdc-file-folder-b\xean-trong-th\u01b0-m\u1ee5c",children:"\u0110\u1ecdc file, folder b\xean trong th\u01b0 m\u1ee5c"}),"\n",(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"C\xfa ph\xe1p:"}),"\n"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"fs.readdirSync(path: stringify, {recursive?: boolean, withFileTypes?: boolean}): string[] | fs.Dirent[]\n"})}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Trong \u0111\xf3:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"recursive"})})," (boolean): N\u1ebfu \u0111\u01b0\u1ee3c \u0111\u1eb7t l\xe0 ",(0,l.jsx)(n.code,{children:"true"}),", s\u1ebd \u0111\u1ec7 quy qua c\xe1c th\u01b0 m\u1ee5c con."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"withFileTypes"})})," (boolean): N\u1ebfu \u0111\u01b0\u1ee3c \u0111\u1eb7t l\xe0 ",(0,l.jsx)(n.code,{children:"true"}),", m\u1ed7i ph\u1ea7n t\u1eed trong m\u1ea3ng tr\u1ea3 v\u1ec1 s\u1ebd l\xe0 m\u1ed9t \u0111\u1ed1i t\u01b0\u1ee3ng ",(0,l.jsx)(n.code,{children:"fs.Dirent"})," thay v\xec m\u1ed9t chu\u1ed7i t\xean t\u1ec7p tin/th\u01b0 m\u1ee5c. \u0110i\u1ec1u n\xe0y cho ph\xe9p ta ph\xe2n bi\u1ec7t gi\u1eefa c\xe1c t\u1ec7p tin v\xe0 th\u01b0 m\u1ee5c d\u1ec5 d\xe0ng h\u01a1n."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"V\xed d\u1ee5 1: \u0110\u1ecdc n\u1ed9i dung th\u01b0 m\u1ee5c v\xe0 tr\u1ea3 v\u1ec1 danh s\xe1ch t\xean t\u1ec7p tin:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nconst files = fs.readdirSync("files");\nconsole.log(files); // [ "example.jpg", "example.mp3", "example.pdf", "example.txt" ]\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["V\xed d\u1ee5 2: \u0110\u1ecdc n\u1ed9i dung th\u01b0 m\u1ee5c v\u1edbi ",(0,l.jsx)(n.code,{children:"withFileTypes"})]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nconst dirents = fs.readdirSync("assets", { withFileTypes: true });\n\ndirents.forEach((dirent) => {\n  if (dirent.isDirectory()) {\n    console.log(`${dirent.name} l\xe0 th\u01b0 m\u1ee5c.`);\n  } else if (dirent.isFile()) {\n    console.log(`${dirent.name} l\xe0 t\u1ec7p tin.`);\n  }\n});\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u0111\u1ecdc-ghi-file-s\u1eed-d\u1ee5ng-stream-trong-fs",children:"\u0110\u1ecdc ghi file s\u1eed d\u1ee5ng stream trong fs"}),"\n",(0,l.jsx)(n.admonition,{type:"info",children:(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Trong Node.js, ",(0,l.jsx)(n.code,{children:"fs.createWriteStream"})," v\xe0 ",(0,l.jsx)(n.code,{children:"fs.createReadStream"})," l\xe0 hai ph\u01b0\u01a1ng th\u1ee9c c\u1ee7a module ",(0,l.jsx)(n.code,{children:"fs"})," (File System) d\xf9ng \u0111\u1ec3 ghi v\xe0 \u0111\u1ecdc file b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng ",(0,l.jsx)(n.strong,{children:"stream"})," , gi\xfap x\u1eed l\xfd d\u1eef li\u1ec7u hi\u1ec7u qu\u1ea3 h\u01a1n so v\u1edbi c\xe1ch \u0111\u1ecdc/ghi to\xe0n b\u1ed9 file v\xe0o b\u1ed9 nh\u1edb."]}),"\n"]})}),"\n",(0,l.jsx)(n.h4,{id:"fscreatewritestream",children:(0,l.jsx)(n.code,{children:"fs.createWriteStream"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["D\xf9ng \u0111\u1ec3 t\u1ea1o m\u1ed9t lu\u1ed3ng ghi (",(0,l.jsx)(n.code,{children:"write stream"}),") v\xe0o file, gi\xfap ghi d\u1eef li\u1ec7u theo t\u1eebng ph\u1ea7n m\xe0 kh\xf4ng c\u1ea7n n\u1ea1p to\xe0n b\u1ed9 n\u1ed9i dung v\xe0o b\u1ed9 nh\u1edb."]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\ud83d\udd39 V\xed d\u1ee5: Ghi d\u1eef li\u1ec7u v\xe0o file b\u1eb1ng ",(0,l.jsx)(n.code,{children:"createWriteStream"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\nconst writeStream = fs.createWriteStream("output.txt");\n\n// Ghi nhi\u1ec1u d\xf2ng v\xe0o file\nwriteStream.write("D\xf2ng 1\\n");\nwriteStream.write("D\xf2ng 2\\n");\nwriteStream.write("D\xf2ng 3\\n");\n\n// K\u1ebft th\xfac stream\nwriteStream.end(() => {\n  console.log("Ghi file th\xe0nh c\xf4ng!");\n});\n'})}),"\n",(0,l.jsxs)(n.admonition,{type:"note",children:[(0,l.jsxs)(n.p,{children:["\ud83d\udccc ",(0,l.jsx)(n.strong,{children:"Gi\u1ea3i th\xedch:"})]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"fs.createWriteStream('output.txt')"}),": T\u1ea1o lu\u1ed3ng ghi v\xe0o file ",(0,l.jsx)(n.code,{children:"output.txt"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"writeStream.write()"}),": Ghi d\u1eef li\u1ec7u v\xe0o file theo t\u1eebng ph\u1ea7n."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"writeStream.end()"}),": K\u1ebft th\xfac lu\u1ed3ng ghi."]}),"\n"]})]}),"\n",(0,l.jsx)(n.h4,{id:"fscreatereadstream",children:(0,l.jsx)(n.code,{children:"fs.createReadStream"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["D\xf9ng \u0111\u1ec3 t\u1ea1o m\u1ed9t lu\u1ed3ng \u0111\u1ecdc (",(0,l.jsx)(n.code,{children:"read stream"}),") t\u1eeb file, gi\xfap \u0111\u1ecdc file theo t\u1eebng ph\u1ea7n nh\u1ecf m\xe0 kh\xf4ng c\u1ea7n t\u1ea3i to\xe0n b\u1ed9 v\xe0o b\u1ed9 nh\u1edb."]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\ud83d\udd39 V\xed d\u1ee5: \u0110\u1ecdc file b\u1eb1ng ",(0,l.jsx)(n.code,{children:"createReadStream"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nconst readStream = fs.createReadStream("output.txt", "utf8");\n\n// S\u1ef1 ki\u1ec7n \'data\' \u0111\u01b0\u1ee3c g\u1ecdi khi c\xf3 d\u1eef li\u1ec7u m\u1edbi\nreadStream.on("data", (chunk) => {\n  console.log("Nh\u1eadn d\u1eef li\u1ec7u:", chunk);\n});\n\n// S\u1ef1 ki\u1ec7n \'end\' \u0111\u01b0\u1ee3c g\u1ecdi khi \u0111\u1ecdc xong file\nreadStream.on("end", () => {\n  console.log("\u0110\u1ecdc file ho\xe0n t\u1ea5t!");\n});\n'})}),"\n",(0,l.jsxs)(n.admonition,{type:"note",children:[(0,l.jsxs)(n.p,{children:["\ud83d\udccc ",(0,l.jsx)(n.strong,{children:"Gi\u1ea3i th\xedch:"})]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"fs.createReadStream('output.txt', 'utf8')"}),": T\u1ea1o lu\u1ed3ng \u0111\u1ecdc file ",(0,l.jsx)(n.code,{children:"output.txt"})," v\u1edbi m\xe3 h\xf3a UTF-8."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"readStream.on('data', callback)"}),": Nh\u1eadn d\u1eef li\u1ec7u t\u1eebng ph\u1ea7n (chunk)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"readStream.on('end', callback)"}),": G\u1ecdi khi \u0111\u1ecdc xong file."]}),"\n"]})]}),"\n",(0,l.jsxs)(n.h4,{id:"k\u1ebft-h\u1ee3p-createreadstream-v\xe0-createwritestream",children:["K\u1ebft h\u1ee3p ",(0,l.jsx)(n.code,{children:"createReadStream"})," v\xe0 ",(0,l.jsx)(n.code,{children:"createWriteStream"})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"D\xf9ng \u0111\u1ec3 sao ch\xe9p file m\xe0 kh\xf4ng c\u1ea7n n\u1ea1p to\xe0n b\u1ed9 file v\xe0o b\u1ed9 nh\u1edb."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\ud83d\udd39 V\xed d\u1ee5: Sao ch\xe9p file b\u1eb1ng stream:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'import fs from "fs";\n\nconst readStream = fs.createReadStream("input.txt");\nconst writeStream = fs.createWriteStream("output.txt");\n\nreadStream.pipe(writeStream);\n\nwriteStream.on("finish", () => {\n  console.log("Sao ch\xe9p file th\xe0nh c\xf4ng!");\n});\n'})}),"\n",(0,l.jsxs)(n.admonition,{type:"note",children:[(0,l.jsxs)(n.p,{children:["\ud83d\udccc ",(0,l.jsx)(n.strong,{children:"Gi\u1ea3i th\xedch:"})]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"readStream.pipe(writeStream)"}),": Truy\u1ec1n d\u1eef li\u1ec7u t\u1eeb ",(0,l.jsx)(n.code,{children:"readStream"})," sang ",(0,l.jsx)(n.code,{children:"writeStream"})," gi\xfap sao ch\xe9p file hi\u1ec7u qu\u1ea3."]}),"\n"]})]}),"\n",(0,l.jsxs)(n.admonition,{type:"tip",children:[(0,l.jsxs)(n.p,{children:["\u2705 Khi n\xe0o n\xean d\xf9ng ",(0,l.jsx)(n.code,{children:"createWriteStream"})," v\xe0 ",(0,l.jsx)(n.code,{children:"createReadStream"}),"?"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Khi l\xe0m vi\u1ec7c v\u1edbi ",(0,l.jsx)(n.strong,{children:"file l\u1edbn"})," (video, log, JSON, CSV, v.v.)."]}),"\n",(0,l.jsxs)(n.li,{children:["Khi c\u1ea7n ",(0,l.jsx)(n.strong,{children:"ghi d\u1eef li\u1ec7u li\xean t\u1ee5c"})," (ghi log, ghi d\u1eef li\u1ec7u t\u1eeb request HTTP)."]}),"\n",(0,l.jsxs)(n.li,{children:["Khi c\u1ea7n ",(0,l.jsx)(n.strong,{children:"x\u1eed l\xfd file m\xe0 kh\xf4ng chi\u1ebfm nhi\u1ec1u RAM"})," ."]}),"\n"]}),(0,l.jsxs)(n.p,{children:["\ud83d\udc49 N\u1ebfu ch\u1ec9 c\u1ea7n \u0111\u1ecdc/ghi file nh\u1ecf, c\xf3 th\u1ec3 d\xf9ng ",(0,l.jsx)(n.code,{children:"fs.readFile()"})," v\xe0 ",(0,l.jsx)(n.code,{children:"fs.writeFile()"}),"."]})]})]})}function a(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>t});var s=i(6540);const l={},c=s.createContext(l);function r(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);