"use strict";(self.webpackChunkreactjs=self.webpackChunkreactjs||[]).push([[363],{9813:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>t,default:()=>f,frontMatter:()=>c,metadata:()=>r,toc:()=>h});var s=i(4848),l=i(8453);const c={sidebar_position:21},t="Thao t\xe1c v\u1edbi th\u01b0 m\u1ee5c, file",r={id:"file-manipulation",title:"Thao t\xe1c v\u1edbi th\u01b0 m\u1ee5c, file",description:"Gi\u1edbi thi\u1ec7u v\u1ec1 fs",source:"@site/docs/file-manipulation.md",sourceDirName:".",slug:"/file-manipulation",permalink:"/javascript/file-manipulation",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:21,frontMatter:{sidebar_position:21},sidebar:"tutorialSidebar",previous:{title:"Re-exporting / Aggregating",permalink:"/javascript/modules/re-exporting"}},o={},h=[{value:"Gi\u1edbi thi\u1ec7u v\u1ec1 <code>fs</code>",id:"gi\u1edbi-thi\u1ec7u-v\u1ec1-fs",level:2},{value:"\u0110\u1ecdc file",id:"\u0111\u1ecdc-file",level:2},{value:"Ghi file",id:"ghi-file",level:2}];function a(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"thao-t\xe1c-v\u1edbi-th\u01b0-m\u1ee5c-file",children:"Thao t\xe1c v\u1edbi th\u01b0 m\u1ee5c, file"}),"\n",(0,s.jsxs)(e.h2,{id:"gi\u1edbi-thi\u1ec7u-v\u1ec1-fs",children:["Gi\u1edbi thi\u1ec7u v\u1ec1 ",(0,s.jsx)(e.code,{children:"fs"})]}),"\n",(0,s.jsx)(e.admonition,{type:"info",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Trong Node.js, ",(0,s.jsx)(e.code,{children:"fs"}),' l\xe0 vi\u1ebft t\u1eaft c\u1ee7a "File System" (H\u1ec7 th\u1ed1ng T\u1eadp tin). \u0110\xe2y l\xe0 m\u1ed9t module t\xedch h\u1ee3p s\u1eb5n cung c\u1ea5p c\xe1c API \u0111\u1ec3 l\xe0m vi\u1ec7c v\u1edbi h\u1ec7 th\u1ed1ng t\u1eadp tin. Ta c\xf3 th\u1ec3 s\u1eed d\u1ee5ng ',(0,s.jsx)(e.code,{children:"fs"})," \u0111\u1ec3 th\u1ef1c hi\u1ec7n c\xe1c thao t\xe1c nh\u01b0 \u0111\u1ecdc v\xe0 ghi t\u1eadp tin, t\u1ea1o v\xe0 x\xf3a th\u01b0 m\u1ee5c, v\xe0 nhi\u1ec1u thao t\xe1c kh\xe1c li\xean quan \u0111\u1ebfn h\u1ec7 th\u1ed1ng t\u1eadp tin."]}),"\n"]})}),"\n",(0,s.jsx)(e.h2,{id:"\u0111\u1ecdc-file",children:"\u0110\u1ecdc file"}),"\n",(0,s.jsxs)(e.admonition,{type:"info",children:[(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"C\xfa ph\xe1p:"}),"\n"]}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:"const fileBuffer: Buffer = fs.readFileSync(path: string, encoding?: BufferEncoding);\n"})}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Trong \u0111\xf3:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"path"}),": \u0111\u01b0\u1eddng d\u1eabn c\u1ee7a file"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"encoding"})," (t\xf9y ch\u1ecdn): Ki\u1ec3u m\xe3 h\xf3a c\u1ee7a file. Xem c\xe1c gi\xe1 tr\u1ecb c\xf3 th\u1ec3 nh\u1eadn c\u1ee7a BufferEncoding ",(0,s.jsx)(e.a,{href:"./built-in-object/buffer#c%C3%A1c-gi%C3%A1-tr%E1%BB%8B-c%C3%B3-th%E1%BB%83-nh%E1%BA%ADn-c%E1%BB%A7a-bufferencoding",children:"t\u1ea1i \u0111\xe2y"}),"."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,s.jsx)(e.admonition,{type:"note",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Khi tham s\u1ed1 ",(0,s.jsx)(e.strong,{children:"encoding"})," \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh th\xec ",(0,s.jsx)(e.code,{children:"fs.readFileSync()"})," s\u1ebd tr\u1ea3 v\u1ec1 m\u1ed9t string thay v\xec tr\u1ea3 v\u1ec1 m\u1ed9t Buffer"]}),"\n"]})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["V\xed d\u1ee5 khi kh\xf4ng ch\u1ec9 \u0111\u1ecbnh tham s\u1ed1 ",(0,s.jsx)(e.strong,{children:"encoding"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'import fs from "fs";\n\nconst file = fs.readFileSync("files/example.txt");\nconsole.log(file); // Buffer(35) [ 88, 105, 110, 13, 10, 99, 104, 195, 160, 111, 13, 10, 116, 225, 186, 165, 116, 32, 99, 225, 186, 163, 13, 10, 99, 195, 161, 99, 13, 10, 98, 225, 186, 161, 110 ]\n'})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["V\xed d\u1ee5 khi ch\u1ec9 \u0111\u1ecbnh tham s\u1ed1 ",(0,s.jsx)(e.strong,{children:"encoding"}),":"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'import fs from "fs";\n\nconst fileUtf8 = fs.readFileSync("files/example.txt", "utf-8");\nconst fileBase64 = fs.readFileSync("files/example.txt", "base64");\nconsole.log(fileUtf8); // "Xin ch\xe0o t\u1ea5t c\u1ea3 c\xe1c b\u1ea1n"\nconsole.log(fileBase64); // "WGluIGNow6BvIHThuqV0IGPhuqMgY8OhYyBi4bqhbg=="\n'})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"V\xed d\u1ee5 v\u1ec1 \u0111\u1ecdc file h\xecnh \u1ea3nh, mp3, mp4, pdf,...:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'import fs from "fs";\n\nconst imageFileBase64 = fs.readFileSync("files/example.jpg", "base64"); // \u0110\u1ecdc file \u1ea3nh v\xe0 tr\u1ea3 v\u1ec1 chu\u1ed7i base64\n'})}),"\n",(0,s.jsxs)(e.admonition,{type:"tip",children:[(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"2 c\xe1ch vi\u1ebft sau t\u01b0\u01a1ng \u0111\u01b0\u01a1ng nhau:"}),"\n"]}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'import fs from "fs";\n\nconst fileBuffer = fs.readFileSync("files/example.txt");\nconst fileUtf8 = fileBuffer.toString("utf-8");\n'})}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'import fs from "fs";\n\nconst fileUtf8 = fs.readFileSync("files/example.txt", "utf8");\n'})})]}),"\n",(0,s.jsx)(e.h2,{id:"ghi-file",children:"Ghi file"}),"\n",(0,s.jsxs)(e.admonition,{type:"info",children:[(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"C\xfa ph\xe1p:"}),"\n"]}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'import fs from "fs";\n\nfs.writeFileSync(filePath: string, data: string | Buffer, encoding?: BufferEncoding): void;\n'})})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"V\xed d\u1ee5 v\u1ec1 ghi file text (txt):"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'import fs from "fs";\n\nconst fileContent = Buffer.from("Xin ch\xe0o t\u1ea5t c\u1ea3 c\xe1c b\u1ea1n");\n\nfs.writeFileSync("files/example.txt", "Hello world"); // Ghi file v\u1edbi n\u1ed9i dung l\xe0 m\u1ed9t string\nfs.writeFileSync("files/example.txt", fileContent); // Ghi file v\u1edbi n\u1ed9i dung l\xe0 m\u1ed9t Buffer\n'})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"V\xed d\u1ee5 v\u1ec1 \u0111\u1ecdc 1 \u1ea3nh sau \u0111\xf3 ghi l\u1ea1i \u1ea3nh \u0111\xf3 (clone \u1ea3nh):"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'import fs from "fs";\n\nconst imageFileBuffer = fs.readFileSync("files/example.jpg");\n\nfs.writeFileSync("files/example-clone.jpg", imageFileBuffer); // Ghi l\u1ea1i file \u1ea3nh\n'})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'import fs from "fs";\n\nconst imageFileBase64 = fs.readFileSync("files/example.jpg", "base64");\nfs.writeFileSync("files/example-clone.jpg", imageFileBase64, "base64"); // Ghi l\u1ea1i file \u1ea3nh\n'})}),"\n",(0,s.jsx)(e.admonition,{type:"caution",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Khi \u0111\u1ecdc file m\xe0 ch\u1ec9 \u0111\u1ecbnh ",(0,s.jsx)(e.strong,{children:"encoding"})," th\xec l\xfac ghi file b\u1eaft bu\u1ed9c ph\u1ea3i ch\u1ec9 \u0111\u1ecbnh l\u1ea1i ",(0,s.jsx)(e.strong,{children:"encoding"})," \u0111\xf3."]}),"\n"]})})]})}function f(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>t,x:()=>r});var s=i(6540);const l={},c=s.createContext(l);function t(n){const e=s.useContext(c);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:t(n.components),s.createElement(c.Provider,{value:e},n.children)}}}]);